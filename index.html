<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Md. Junayed | Home</title>
  <link rel="stylesheet" href="style.css">
  <!-- Favicon -->
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="images/favicon.png">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* ---- NEW HERO SECTION ---- */
    .hero {
      position: relative;
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      text-align: center;
    }
    .hero::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.45);
      z-index: 1;
    }
    .hero-bg {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      object-fit: cover;
      filter: blur(3px);
      transition: opacity 0.6s ease;
    }
    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 900px;
      padding: 2rem;
    }
    .hero .headshot {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      border: 5px solid #fff;
      margin: 1.5rem auto;
      display: block;
      object-fit: cover;
    }
    .hero .contact-links {
      margin: 1.5rem 0;
      font-size: 1.1rem;
    }
    .hero .contact-links a {
      color: #fff;
      text-decoration: none;
    }
    .hero .social-links a {
      margin: 0 12px;
      font-size: 1.6rem;
      color: #fff;
      transition: transform .2s;
      text-decoration: none;
    }
    .hero .social-links a:hover { transform: scale(1.2); }

    /* ---- STACK CARDS ---- */
    .stack-cards {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
      padding: 4rem 2rem;
      background: #fafafa;
    }
    .card {
      background: #fff;
      width: 260px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,.08);
      transition: transform .3s, box-shadow .3s;
      text-align: center;
    }
    .card:hover {
      transform: translateY(-12px);
      box-shadow: 0 12px 24px rgba(0,0,0,.15);
    }
    .card img.logo {
      width: 70px;
      height: 70px;
      margin: 1.2rem auto;
      object-fit: contain;
    }
    .card h3 { margin: 0.5rem 0; font-size: 1.1rem; }
    .card p { margin: 0.4rem 0; color: #555; font-size: .95rem; }
    .card a { color: #0066cc; text-decoration: none; }
    .card a:hover { text-decoration: underline; }

    @media (max-width: 768px) {
      .hero { height: 80vh; }
      .hero .headshot { width: 140px; height: 140px; }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <div id="navbar"></div>

  <!-- ==== HERO SECTION ==== -->
  <section class="hero">
    <img src="images/slide1.jpg" alt="" class="hero-bg" id="heroBg">
    <div class="hero-content">
      <h1>Hello! I am Md. Junayed</h1>
      <img src="images/headshot.jpg" alt="Md. Junayed" class="headshot">

      <div class="contact-links">
        <i class="fas fa-envelope"></i>
        <a href="mailto:1902049@che.buet.ac.bd">1902049@che.buet.ac.bd</a>
      </div>

      <div class="social-links">
        <a href="https://linkedin.com/in/junayed733" target="_blank" title="LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="https://github.com/j-unayed" target="_blank" title="GitHub">
          <i class="fab fa-github"></i>
        </a>
        <a href="https://fb.com/junayed733" target="_blank" title="Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </div>
    </div>
  </section>

  <!-- ==== STACK CARDS ==== -->
  <section class="stack-cards">
    <!-- BUET -->
    <div class="card">
      <img src="images/buet.png" alt="BUET logo" class="logo">
      <h3>B.Sc in Chemical Engineering</h3>
      <p>2025</p>
      <p><a href="https://www.buet.ac.bd" target="_blank">Bangladesh University of Engineering and Technology</a></p>
    </div>

    <!-- Research -->
    <div class="card">
      <img src="images/research.png" alt="Research logo" class="logo">
      <h3>Experienced Researcher</h3>
      <p>Biomaterials, Catalysis</p>
      <p>1 Q1 Paper, 1 Project</p>
    </div>

    <!-- Coding -->
    <div class="card">
      <img src="images/coding.png" alt="Coding logo" class="logo">
      <h3>Python, Java</h3>
      <p>3 Projects</p>
    </div>

    <!-- BCIL -->
    <div class="card">
      <img src="images/bcil.png" alt="BCIL logo" class="logo">
      <h3>Process Engineer</h3>
      <p>Bashundhara Chemical Industries Limited</p>
      <p><a href="https://www.bashundharagroup.com" target="_blank">bashundharagroup.com</a></p>
    </div>
  </section>

  <!-- Slideshow script (kept for hero background) -->
<script src="script.js"></script>
<script>
  // ---- NAVBAR -------------------------------------------------
  fetch('navbar.html')
    .then(r => r.text())
    .then(d => document.getElementById('navbar').innerHTML = d);

  // ---- DYNAMIC HERO BACKGROUND -------------------------------
  const heroBg   = document.getElementById('heroBg');
  const folder   = 'images_homepage/';
  const filenames = [                     // <-- keep the order you want
    '1707629221052.jpg',
    '1707935627250.jpg',
    'IMG-20250614-WA0009.jpg',
    'IMG-20250621-WA0000.jpg',
    'IMG-20250723-WA0044.jpeg',
    'IMG-20250825-WA0014.jpg',
    'IMG_20241123_133147.jpg',
    'IMG_20250721_153556.jpg',
    'IMG_20250721_154213.jpg',
    'IMG_20250822_123740.jpg'
  ];

  // ----------------------------------------------------------------
  // 1. Pre-load every image and store its orientation
  // ----------------------------------------------------------------
  const imageObjects = filenames.map(name => {
    const img = new Image();
    img.src = folder + name;
    return {img, name, loaded: false, width:0, height:0};
  });

  let portrait = [];   // portrait images that still need a partner
  let landscape = [];  // landscape images that still need a partner
  let currentIdx = 0;  // index in the original array

  // ----------------------------------------------------------------
  // 2. Helper: decide if the viewport is “horizontal”
  // ----------------------------------------------------------------
  function isDesktop() {
    return window.innerWidth > window.innerHeight;   // simple but works
  }

  // ----------------------------------------------------------------
  // 3. Build a **single** background source (URL or data-URL)
  // ----------------------------------------------------------------
  function buildBackground() {
    const next = imageObjects[currentIdx];
    currentIdx = (currentIdx + 1) % imageObjects.length;

    // wait until the image is actually loaded
    if (!next.loaded) {
      // show it as soon as it loads
      next.img.onload = () => {
        next.loaded = true;
        next.width  = next.img.naturalWidth;
        next.height = next.img.naturalHeight;
        buildBackground();          // retry now that we know size
      };
      heroBg.src = next.img.src;    // start loading
      return;
    }

    const isPortrait = next.width < next.height;

    // --------------------------------------------------------------
    // DESKTOP – pair two portraits side-by-side
    // --------------------------------------------------------------
    if (isDesktop() && isPortrait) {
      // look for a partner that is also portrait
      const partner = portrait.find(p => p !== next);
      if (partner) {
        // remove partner from the pool
        portrait = portrait.filter(p => p !== partner);
        createSideBySide(next, partner);
        return;
      }
      // no partner yet → keep it for later
      portrait.push(next);
      heroBg.src = next.img.src;
      return;
    }

    // --------------------------------------------------------------
    // MOBILE – pair two landscapes one-above-the-other
    // --------------------------------------------------------------
    if (!isDesktop() && !isPortrait) {
      const partner = landscape.find(p => p !== next);
      if (partner) {
        landscape = landscape.filter(p => p !== partner);
        createStacked(next, partner);
        return;
      }
      landscape.push(next);
      heroBg.src = next.img.src;
      return;
    }

    // --------------------------------------------------------------
    // Default – just show the single image
    // --------------------------------------------------------------
    heroBg.src = next.img.src;
  }

  // ----------------------------------------------------------------
  // 4. Canvas helpers – combine two images
  // ----------------------------------------------------------------
  function createSideBySide(imgA, imgB) {
    const canvas = document.createElement('canvas');
    const w = Math.max(imgA.width, imgB.width);
    const h = Math.max(imgA.height, imgB.height);
    canvas.width  = w * 2;
    canvas.height = h;
    const ctx = canvas.getContext('2d');

    // draw left
    ctx.drawImage(imgA.img, 0, 0, w, h);
    // draw right
    ctx.drawImage(imgB.img, w, 0, w, h);

    heroBg.src = canvas.toDataURL();
  }

  function createStacked(imgA, imgB) {
    const canvas = document.createElement('canvas');
    const w = Math.max(imgA.width, imgB.width);
    const h = Math.max(imgA.height, imgB.height);
    canvas.width  = w;
    canvas.height = h * 2;
    const ctx = canvas.getContext('2d');

    ctx.drawImage(imgA.img, 0, 0, w, h);
    ctx.drawImage(imgB.img, 0, h, w, h);

    heroBg.src = canvas.toDataURL();
  }

  // ----------------------------------------------------------------
  // 5. Fade transition
  // ----------------------------------------------------------------
  function changeWithFade() {
    heroBg.style.opacity = '0';
    setTimeout(() => {
      buildBackground();
      heroBg.style.opacity = '1';
    }, 600);
  }

  // ----------------------------------------------------------------
  // 6. Start everything
  // ----------------------------------------------------------------
  window.addEventListener('load', () => {
    // preload the first image to kick things off
    buildBackground();
    setInterval(changeWithFade, 5000);   // 5 s interval (feel free to change)
  });

  // Re-evaluate on resize (desktop ↔ mobile switch)
  window.addEventListener('resize', () => {
    // reset pools when orientation changes
    portrait = imageObjects.filter(o => o.loaded && o.width < o.height);
    landscape = imageObjects.filter(o => o.loaded && o.width >= o.height);
  });
</script>
</body>
</html>
